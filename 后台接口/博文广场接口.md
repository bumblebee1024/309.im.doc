# 博文广场接口
* 博文列表 ***art-list***
* 博文详细内容 ***art***
* 博文发表 ***art-pub***

## 博文列表 art-list
### 1. 客户端请求 req
* **地址：** http://309.im/Home/art-list
* **数据格式:**
<pre>
<code>

</code>
</pre>

### 2. 服务器返回数据 resp

* **数据格式:**
<pre><code>
{
    "flag": "DATA",
    "data": [
        {
            "id": "6",
            "user_id": "1",
            "cate_id": "0",
            "tag": "",
            "type": "TEXT",
            "weight": "0",
            "keyword": "",
            "status": "NORMAL",
            "summary": "WE",
            "title": "ERR",
            "thumb": "",
            "image": "",
            "video": "",
            "music": "",
            "code": "",
            "media_width": "0",
            "media_height": "0",
            "create_time": "1416368079",
            "update_time": "0",
            "dig": "0",
            "digger": "",
            "view": "0",
            "viewer": "",
            "last_view_time": "0",
            "reply": "0"
        },
        {
            "id": "7",
            "user_id": "1",
            "cate_id": "0",
            "tag": "",
            "type": "TEXT",
            "weight": "0",
            "keyword": "",
            "status": "NORMAL",
            "summary": "WE",
            "title": "ERR",
            "thumb": "",
            "image": "",
            "video": "",
            "music": "",
            "code": "",
            "media_width": "0",
            "media_height": "0",
            "create_time": "1416368167",
            "update_time": "0",
            "dig": "0",
            "digger": "",
            "view": "0",
            "viewer": "",
            "last_view_time": "0",
            "reply": "0"
        }
    ]
}
</code></pre>

##### 字段说明：
<table>
<tr>
	<th>字段</th>
	<th>结构</th>
	<th>说明</th>
</tr>
<tr>
	<td>id</td>
	<td>int</td>
	<td>博文ID</td>
</tr>
<tr>
	<td>user_id</td>
	<td>int</td>
	<td>用户ID</td>
</tr>
<tr>
	<td>cate_id</td>
	<td>int</td>
	<td>分类ID</td>
</tr>
<tr>
	<td>tag</td>
	<td>string</td>
	<td>博文标签</td>
</tr>
<tr>
	<td>type</td>
	<td>string</td>
	<td>博文类型，分为TEXT,IMAGE,VIDEO,MUSIC,CODE</td>
</tr>
<tr>
	<td>weight</td>
	<td>int</td>
	<td>权重</td>
</tr>
<tr>
	<td>keyword</td>
	<td>string</td>
	<td>关键字</td>
</tr>
<tr>
	<td>status</td>
	<td>string</td>
	<td>状态，默认值：NORMAL</td>
</tr>
<tr>
	<td>summary</td>
	<td>text</td>
	<td>摘要</td>
</tr>
<tr>
	<td>title</td>
	<td>string</td>
	<td>标题</td>
</tr>
<tr>
	<td>thumb</td>
	<td>string</td>
	<td>媒体缩略图路径</td>
</tr>
<tr>
	<td>image</td>
	<td>string</td>
	<td>封面图片路径</td>
</tr>
<tr>
	<td>video</td>
	<td>string</td>
	<td>封面视频链接</td>
</tr>
<tr>
	<td>music</td>
	<td>string</td>
	<td>封面音乐链接</td>
</tr>
<tr>
	<td>code</td>
	<td>string</td>
	<td>封面代码块</td>
</tr>
<tr>
	<td>media_width</td>
	<td>int</td>
	<td>封面媒体宽度</td>
</tr>
<tr>
	<td>media_height</td>
	<td>int</td>
	<td>封面媒体高度</td>
</tr>
<tr>
	<td>create_time</td>
	<td>int</td>
	<td>发布时间戳</td>
</tr>
<tr>
	<td>update_time</td>
	<td>int</td>
	<td>更新时间戳</td>
</tr>
<tr>
	<td>dig</td>
	<td>int</td>
	<td>被赞数</td>
</tr>
<tr>
	<td>digger</td>
	<td>string</td>
	<td>点赞人</td>
</tr>
<tr>
	<td>view</td>
	<td>int</td>
	<td>浏览数</td>
</tr>
<tr>
	<td>viewer</td>
	<td>string</td>
	<td>浏览人</td>
</tr>
<tr>
	<td>last_view_time</td>
	<td>int</td>
	<td>最后浏览时间戳</td>
</tr>
<tr>
	<td>reply</td>
	<td>int</td>
	<td>回复数</td>
</tr>

</table>


## 博文详情 art
### 1. 客户端请求 req
* **地址：** http://309.im/Home/art
* **数据格式:**
<pre>
使用POST方式
<code>
art_id=233
</code>
</pre>

### 2. 服务器返回数据 resp

* **数据格式:**
<pre><code>
{
    "flag": "DATA",
    "data": {
        "id": "1",
        "user_id": "1",
        "cate_id": "1",
        "tag": "肥皂",
        "type": "TEXT",
        "weight": "99",
        "keyword": "肥皂,文滨,杭州",
        "status": "NORMAL",
        "summary": "（¯﹃¯）口水",
        "title": "校园基佬剧场",
        "thumb": "/upload/article/images/thumb/201411/1416380843.jpg",
        "media_width": "320",
        "media_height": "240",
        "create_time": "1416380843",
        "update_time": "0",
        "dig": "0",
        "digger": "",
        "view": "0",
        "viewer": "",
        "last_view_time": "0",
        "reply": "0",
		"content": "XXXXX",
        "image": [
                        {
                "id": "1",
                "type": "IMAGE",
                "description": "剧照1-杭州出场",
                "link": "/upload/article/images/201411/1416380843.jpg",
                "status": "NORMAL",
                "limit": "HIDDEN",
                "width": "600",
                "height": "800",
                "size": "60k"
            },
            {
                "id": "1",
                "type": "IMAGE",
                "description": "剧照2-文滨出场",
                "link": "/upload/article/images/201411/1416380844.jpg",
                "status": "NORMAL",
                "limit": "HIDDEN",
                "width": "600",
                "height": "800",
                "size": "82k"
            }
        ],
        "video": [
            {
                "id": "4",
                "type": "VIDEO",
                "description": "DFCCCCVVV123456",
                "link": "http://www.bilibili.tv/av200123",
                "status": "NORMAL",
                "limit": "",
                "width": "600",
                "height": "600",
                "size": ""
            },
            {
                "id": "4",
                "type": "VIDEO",
                "description": "高清版",
                "link": "/upload/article/video/201412/xxxx.mp4",
                "status": "NORMAL",
                "limit": "",
                "width": "1024",
                "height": "876",
                "size": "100M"
            }
        ],
        "music": [
            {
                "id": "6",
                "type": "MUSIC",
                "description": "XX",
                "link": "XX",
                "status": "NORMAL",
                "limit": "",
                "width": "0",
                "height": "0",
                "size": ""
            }
        ],
        "code": [
            {
                "id": "5",
                "type": "CODE",
                "description": "DF",
                "link": "",
                "status": "NORMAL",
                "limit": "",
                "width": "0",
                "height": "0",
                "size": ""
            }
        ],

        "annex": [
            {
                "id": "1",
                "type": "ANNEX",
                "description": "ASD",
                "link": "",
                "status": "",
                "limit": "",
                "width": "0",
                "height": "0",
                "size": ""
            },
            {
                "id": "7",
                "type": "ANNEX",
                "description": "",
                "link": "",
                "status": "NORMAL",
                "limit": "",
                "width": "0",
                "height": "0",
                "size": ""
            }
        ]
    }
}
</code></pre>

##### 字段说明：
<table>
<tr>
	<th>字段</th>
	<th>结构</th>
	<th>说明</th>
</tr>
<tr>
	<td>id</td>
	<td>int</td>
	<td>博文ID</td>
</tr>
<tr>
	<td>user_id</td>
	<td>int</td>
	<td>用户ID</td>
</tr>
<tr>
	<td>cate_id</td>
	<td>int</td>
	<td>分类ID</td>
</tr>
<tr>
	<td>tag</td>
	<td>string</td>
	<td>博文标签</td>
</tr>
<tr>
	<td>type</td>
	<td>string</td>
	<td>博文类型，分为TEXT,IMAGE,VIDEO,MUSIC,CODE</td>
</tr>
<tr>
	<td>weight</td>
	<td>int</td>
	<td>权重</td>
</tr>
<tr>
	<td>keyword</td>
	<td>string</td>
	<td>关键字</td>
</tr>
<tr>
	<td>status</td>
	<td>string</td>
	<td>状态，默认值：NORMAL</td>
</tr>
<tr>
	<td>summary</td>
	<td>text</td>
	<td>摘要</td>
</tr>
<tr>
	<td>title</td>
	<td>string</td>
	<td>标题</td>
</tr>
<tr>
	<td>thumb</td>
	<td>string</td>
	<td>媒体缩略图路径</td>
</tr>
<tr>
	<td>image</td>
	<td>string</td>
	<td>封面图片路径</td>
</tr>
<tr>
	<td>video</td>
	<td>string</td>
	<td>封面视频链接</td>
</tr>
<tr>
	<td>music</td>
	<td>string</td>
	<td>封面音乐链接</td>
</tr>
<tr>
	<td>code</td>
	<td>string</td>
	<td>封面代码块</td>
</tr>
<tr>
	<td>media_width</td>
	<td>int</td>
	<td>封面媒体宽度</td>
</tr>
<tr>
	<td>media_height</td>
	<td>int</td>
	<td>封面媒体高度</td>
</tr>
<tr>
	<td>create_time</td>
	<td>int</td>
	<td>发布时间戳</td>
</tr>
<tr>
	<td>update_time</td>
	<td>int</td>
	<td>更新时间戳</td>
</tr>
<tr>
	<td>dig</td>
	<td>int</td>
	<td>被赞数</td>
</tr>
<tr>
	<td>digger</td>
	<td>string</td>
	<td>点赞人</td>
</tr>
<tr>
	<td>view</td>
	<td>int</td>
	<td>浏览数</td>
</tr>
<tr>
	<td>viewer</td>
	<td>string</td>
	<td>浏览人</td>
</tr>
<tr>
	<td>last_view_time</td>
	<td>int</td>
	<td>最后浏览时间戳</td>
</tr>
<tr>
	<td>reply</td>
	<td>int</td>
	<td>回复数</td>
</tr>
<tr>
	<td>content</td>
	<td>text</td>
	<td>博文内容</td>
</tr>
<tr>
	<td>image</td>
	<td>array</td>
	<td>图片内容</td>
</tr>
<tr>
	<td>video</td>
	<td>array</td>
	<td>视频内容</td>
</tr>
<tr>
	<td>music</td>
	<td>array</td>
	<td>音频内容</td>
</tr>
<tr>
	<td>code</td>
	<td>array</td>
	<td>代码内容</td>
</tr>
<tr>
	<td>annex</td>
	<td>array</td>
	<td>附件内容</td>
</tr>
<tr>
	<td colspan="3">
	媒体字段
	</td>
<tr/>

<tr>
	<td>id</td>
	<td>int</td>
	<td>媒体ID</td>
</tr>
<tr>
	<td>type</td>
	<td>string</td>
	<td>媒体类型</td>
</tr>
<tr>
	<td>description</td>
	<td>text</td>
	<td>媒体描述,这里可以作为媒体的本体，例如音乐播放列表的js代码等等</td>
</tr>
<tr>
	<td>link</td>
	<td>string</td>
	<td>媒体链接</td>
</tr>
<tr>
	<td>status</td>
	<td>string</td>
	<td>媒体状态</td>
</tr>
<tr>
	<td>limit</td>
	<td>string</td>
	<td>媒体限制，分为：隐藏-HIDDEN（登录才能看），管理-ADMIN（管理员才能看）。其他限制后续添加。</td>
</tr>
<tr>
	<td>width</td>
	<td>int</td>
	<td>媒体宽度</td>
</tr>
<tr>
	<td>height</td>
	<td>int</td>
	<td>媒体高度</td>
</tr>
<tr>
	<td>size</td>
	<td>string</td>
	<td>媒体大小</td>
</tr>


</table>


## 发表博文 art-pub
### 1. 客户端请求 req
* **地址：** http://309.im/Home/art-pub
* **数据格式:**
<pre>
使用POST方式,*媒体上传未开发
<code>
cate_id:分类id
tag:博文标签，多个则以逗号隔开
type:博文类型，枚举型：TEXT/IMAGE/VIDEO/MUSIC/CODE
keyword:关键字，多个则以逗号隔开
summary:摘要，简述
title:标题
description:内容
</code>
</pre>

### 2. 服务器返回数据 resp

* **数据格式:**
<pre><code>
{
    "flag": "ERROR",
    "message": {
        "title": "标题不能为空，喵帕斯~",
        "description": "内容不能为空，咪啪~"
    }
}
</code></pre>